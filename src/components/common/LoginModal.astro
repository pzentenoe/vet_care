---
// Importamos el componente Solid.js con la ruta correcta y completa
import LoginModalSolid from '../../components/solid/LoginModal';
---

<div id="login-modal-container" data-login-modal>
    <LoginModalSolid client:visible isOpen={false} onClose={() => {}} />
</div>

<script>
    // Script para manejar la apertura y cierre del modal desde fuera
    document.addEventListener('DOMContentLoaded', () => {
        const modalContainer = document.getElementById('login-modal-container');

        // Definir la función global para abrir el modal
        window.openLoginModal = () => {
            // Disparar un evento custom que el componente Solid escuchará
            const event = new CustomEvent('open-login-modal');
            modalContainer?.dispatchEvent(event);
        };

        // Exponer la función al objeto window para que sea accesible globalmente
        if (typeof window !== 'undefined') {
            window.openLoginModal = window.openLoginModal || (() => {});
        }
    });

    // Añadimos la declaración de tipos para TypeScript
    declare global {
        interface Window {
            openLoginModal: () => void;
        }
    }
</script>